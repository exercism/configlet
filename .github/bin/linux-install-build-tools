#!/usr/bin/env sh

snap info zig
sudo snap install zig --classic --beta
zig version
zig cc --version

# We need to wrap `zig cc` because the value of e.g. `--clang.exe` cannot
# contain a space. Nim expects the value to be an executable, not a command.
zigcc_path='/usr/local/bin/zigcc'
printf '#!/usr/bin/env sh\nzig cc $@\n' | sudo tee "${zigcc_path}" > /dev/null
sudo chmod +x "${zigcc_path}"
